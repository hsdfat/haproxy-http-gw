# Initial HAProxy configuration for test environment
# This will be managed by http-gateway application

global
    master-worker
    pidfile /tmp/haproxy-gateway/haproxy.pid
    stats socket /tmp/haproxy-gateway/haproxy-runtime-api.sock mode 660 level admin expose-fd listeners
    log stdout format raw local0 info

defaults
    mode http
    log global
    option httplog
    timeout connect 5s
    timeout client 30s
    timeout server 30s
    timeout http-request 5s

# Minimal frontend to allow HAProxy to start successfully
# The http-gateway application will add proper frontends dynamically
frontend minimal
    bind :8080
    mode http
    default_backend placeholder

backend placeholder
    mode http
    http-request return status 503 content-type text/plain string "Gateway initializing..."
